# ######## Window rules ########

# Uncomment to apply global transparency to all windows:
# windowrulev2 = opacity 0.89 override 0.89 override, class:.*

# Disable blur for xwayland context menus
windowrule {
  name = windowrule-1
  no_blur = on
  match:class = ^()$
  match:title = ^()$
}

# windowrulev2 = noblur, xwayland:1


# Floating
windowrule {
  name = windowrule-2
  float = on
  match:class = ^(blueberry\.py)$
}

windowrule {
  name = windowrule-3
  float = on
  match:class = ^(steam)$
}

windowrule {
  name = windowrule-4
  float = on
  match:class = ^(guifetch)$   # FlafyDev/guifetch
}

windowrule {
  name = windowrule-5
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(pavucontrol)$
}

windowrule {
  name = windowrule-6
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(org.pulseaudio.pavucontrol)$
}

windowrule {
  name = windowrule-7
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(nm-connection-editor)$
}

windowrule {
  name = windowrule-8
  float = on
  match:class = .*plasmawindowed.*
}

windowrule {
  name = windowrule-9
  float = on
  match:class = kcm_.*
}

windowrule {
  name = windowrule-10
  float = on
  match:class = .*bluedevilwizard
}

windowrule {
  name = windowrule-11
  float = on
  match:title = .*Welcome
}

windowrule {
  name = windowrule-12
  float = on
  match:title = ^(illogical-impulse Settings)$
}

windowrule {
  name = windowrule-13
  float = on
  match:class = xdg.desktop.portal.gtk
}

windowrule {
  name = windowrule-14
  float = on
  match:class = Windscribe
}


# No appearance
# kde-material-you-colors spawns a window when changing dark/light theme. This is to make sure it doesn't interfere at all.
windowrule {
  name = windowrule-15
  float = on
  no_initial_focus = on
  move = (999999) (999999)
  match:class = ^(plasma-changeicons)$
}


# Tiling
windowrule {
  name = windowrule-16
  tile = on
  match:class = ^dev\.warp\.Warp$
}


# Picture-in-Picture
windowrule {
  name = windowrule-17
  float = on
  keep_aspect_ratio = on
  move = ((monitor_w*0.73)) ((monitor_h*0.72))
  size = (monitor_w*0.25)
  pin = on
  match:title = ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
}


# Dialog windows â€“ float+center these windows.
windowrule {
  name = windowrule-18
  center = on
  float = on
  match:title = ^(Open File)(.*)$
}

windowrule {
  name = windowrule-19
  center = on
  float = on
  match:title = ^(Select a File)(.*)$
}

windowrule {
  name = windowrule-20
  center = on
  float = on
  match:title = ^(Select file)(.*)$
}

windowrule {
  name = windowrule-21
  center = on
  float = on
  match:title = ^(Choose wallpaper)(.*)$
}

windowrule {
  name = windowrule-22
  center = on
  float = on
  match:title = ^(Open Folder)(.*)$
}

windowrule {
  name = windowrule-23
  center = on
  float = on
  match:title = ^(Save As)(.*)$
}

windowrule {
  name = windowrule-24
  center = on
  float = on
  match:title = ^(Library)(.*)$
}

windowrule {
  name = windowrule-25
  center = on
  float = on
  match:title = ^(File Upload)(.*)$
}



# --- Tearing ---
windowrule {
  name = windowrule-26
  immediate = on
  match:title = .*\.exe
}

windowrule {
  name = windowrule-27
  immediate = on
  match:title = .*minecraft.*
}

windowrule {
  name = windowrule-28
  immediate = on
  match:class = ^(steam_app)
}


# No shadow for tiled windows (matches windows that are not floating).
windowrule {
  name = windowrule-29
  no_shadow = on
  match:float = 0
}


# ######## Special workspace rules ########
workspace = special:special, gapsout:30

workspace = special:spotify, gapsout:30
windowrule {
  name = windowrule-30
  workspace = special:spotify
  match:class = spotify
}


workspace = special:ferdium, gapsout:30
windowrule {
  name = windowrule-31
  workspace = special:ferdium
  match:class = ferdium
}


workspace = special:calc, gapsout:30
windowrule {
  name = windowrule-32
  float = on
  center = on
  workspace = special:calc
  match:class = qalculate-gtk
}


# ######## Layer rules ########
layerrule {
  name = layerrule-1
  xray = 1
  match:namespace = .*
}

# layerrule = noanim, .*
layerrule {
  name = layerrule-2
  no_anim = on
  match:namespace = walker
}

layerrule {
  name = layerrule-3
  no_anim = on
  match:namespace = selection
}

layerrule {
  name = layerrule-4
  no_anim = on
  match:namespace = overview
}

layerrule {
  name = layerrule-5
  no_anim = on
  match:namespace = anyrun
}

layerrule {
  name = layerrule-6
  no_anim = on
  match:namespace = indicator.*
}

layerrule {
  name = layerrule-7
  no_anim = on
  match:namespace = osk
}

layerrule {
  name = layerrule-8
  no_anim = on
  match:namespace = hyprpicker
}


# layerrule = noanim, noanim
# #layerrule = blur, gtk-layer-shell
# layerrule = ignorezero, gtk-layer-shell
# #layerrule = blur, launcher
# layerrule = ignorealpha 0.5, launcher
# #layerrule = blur, notifications
# layerrule = ignorealpha 1, notifications
# #layerrule = blur, logout_dialog # wlogout


# Quickshell
#layerrule = blurpopups, quickshell:.*
#layerrule = blur, quickshell:.*
#layerrule = ignorealpha 0.79, quickshell:.*

# Launchers need to be FAST
#layerrule = noanim, quickshell:overview
layerrule {
  name = layerrule-9
  animation = popin 98%
  dim_around = on
  match:namespace = quickshell:overview
}

layerrule {
  name = layerrule-10
  no_anim = on
  match:namespace = gtk4-layer-shell
}


layerrule {
  name = layerrule-11
  animation = slide
  match:namespace = quickshell:bar
}

layerrule {
  name = layerrule-12
  animation = fade
  match:namespace = quickshell:screenCorners
}

layerrule {
  name = layerrule-13
  animation = slide right
  match:namespace = quickshell:sidebarRight
}

layerrule {
  name = layerrule-14
  animation = slide bottom
  match:namespace = quickshell:osk
}

layerrule {
  name = layerrule-15
  animation = slide bottom
  match:namespace = quickshell:dock
}

layerrule {
  name = layerrule-16
  animation = fade
  match:namespace = quickshell:notificationPopup
}


layerrule {
  name = layerrule-17
  blur = on
  no_anim = on
  ignore_alpha = 0
  match:namespace = quickshell:session
}


#layerrule = blur, quickshell:backgroundWidgets
#layerrule = ignorealpha 0.05, quickshell:backgroundWidgets
#layerrule = noanim, quickshell:screenshot


layerrule {
  name = layerrule-18
  dim_around = on
  match:namespace = quickshell:cheatsheet
}


# layerrule = dimaround, quickshell:calendarMonitor
# layerrule = dimaround, quickshell:resourceMonitor
# layerrule = dimaround, quickshell:weatherMonitor
# layerrule = dimaround, quickshell:clockMonitor
# layerrule = dimaround, quickshell:mediaControls
#layerrule = dimaround, quickshell:sidebarRight




